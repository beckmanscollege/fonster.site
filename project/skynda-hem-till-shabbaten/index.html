<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://use.typekit.net/zkg5ejp.css" />
    <title>Shabbat</title>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: neuzeit-grotesk, sans-serif;
      }

      body {
        overflow-x: hidden;
      }

      section {
        min-height: 100vh;
        width: 100vw;
        position: relative;
        overflow-x: hidden;
      }

      .bold {
        font-family: neuzeit-grotesk, sans-serif;
        font-weight: 700;
        font-style: normal;
      }

      @media (max-width: 799px) {
        .parallax {
          perspective: 1px;
          overflow-x: hidden;
          overflow-y: scroll;
          background-color: #e4b1ba;
          position: relative;
          overscroll-behavior: auto;
          z-index: 0;
        }
        .desktop {
          display: none;
        }
      }

      @media (min-width: 800px) {
        .parallax {
          display: none;
        }
        .desktop {
          display: flex;
          justify-content: center;
          align-items: center;
          flex-direction: column;
        }
      }

      .parallax-group {
        position: relative;
        transform-style: preserve-3d;
        overscroll-behavior: auto;
      }

      .parallax-layer {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
      }

      .layer img {
        top: 0;
        left: 0;
        width: 100vw;
      }

      .layer1 {
        transform: translateZ(-4px) scale(5);
        top: 30vw;
      }

      .layer2 {
        transform: translateZ(-3px) scale(4);
      }

      .layer3 {
        transform: translateZ(-2px) scale(3);
        top: 230vw;
      }

      .layer.layer4 {
        transform: translateZ(-1px) scale(2);
        top: 600vw;
      }

      .layer.layer5 {
        transform: translateZ(0px);
        top: 800vw;
      }

      .layer6 {
        transform: translateZ(-2px) scale(3);
      }

      .layer6 img {
        width: 80%;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
      }

      .video01 {
        z-index: 20;
      }

      .video02 {
        z-index: 19;
      }

      .video03 {
        z-index: 18;
      }

      .video04 {
        z-index: 17;
      }

      .video05 {
        z-index: 16;
      }

      .video06 {
        z-index: 15;
      }

      .video07 {
        z-index: 14;
      }

      .video08 {
        z-index: 13;
      }

      .video09 {
        z-index: 12;
      }

      video {
        right: 0;
        bottom: 0;
        object-fit: fill;
        position: absolute;
        background-color: white;
        width: 100%;
        height: 100%;
      }

      @media (max-width: 600px) {
        .videos {
          top: 1250vw;
          height: 100vh;
        }
      }

      @media (min-width: 601px) {
        .videos {
          height: 100vh;
          top: 1300vw;
        }
      }

      .restart {
        position: absolute;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        right: 0;
        bottom: 0;
        width: 100vw;
        height: 100vh;
      }

      .desktop h1 {
        margin: 20px;
      }
      .desktop button,
      .desktop a,
      .restart button,
      .restart a {
        font-size: 24px;
        font-weight: bold;
        color: #141d46;
        margin: 20px;
        border: 6px solid #141d46;
        background: none;
        text-decoration: none;
        padding: 13px 24px;
      }

      .videos {
        position: absolute;
        background-color: #e4b1ba;
      }

      .buske {
        right: 0;
        bottom: 0;
        width: 100vw;
        height: 100vh;
        object-fit: fill;
        position: absolute;
      }
    </style>
  </head>

  <body>
    <section class="desktop">
      <h1>Webbsidan funkar enbart på mobil</h1>
      <a href="https://vimeo.com/764476787"> Se videon </a>
      <a href="https://soundcloud.com/oskar-hannu/sets/skynda-hem-till-shabbaten-2022"
        >Lyssna på låten</a
      >
    </section>
    <section class="parallax" id="parallax">
      <div class="parallax-group">
        <div class="parallax-layer layer layer1">
          <img src="./assets/1.png" alt="" />
        </div>
        <div class="parallax-layer layer layer2">
          <img src="./assets/2.png" alt="" />
        </div>
        <div class="parallax-layer layer layer3">
          <img src="./assets/3.png" alt="" />
        </div>
        <div class="parallax-layer layer layer4">
          <img src="./assets/4.png" alt="" />
        </div>
        <div class="parallax-layer layer layer5">
          <img src="./assets/5.png" alt="" />
        </div>
        <div class="parallax-layer layer layer6">
          <img src="./assets/LOGO_BLACK.png" alt="" />
        </div>
      </div>

      <section class="videos">
        <video
          src="./assets/Sekvens1.mp4#t=0.01"
          webkit-playsinline
          playsinline
          class="video01"
          id="video"
        ></video>
        <img
          class="buske video03"
          src="./assets/buske3.PNG"
          alt=""
          id="buske"
        />
        <img
          class="buske video04"
          src="./assets/buske2.PNG"
          alt=""
          id="buske"
        />
        <video
          src="./assets/Sekvens2.mp4#t=0.01"
          webkit-playsinline
          playsinline
          class="video06"
          id="video"
        ></video>
        <video
          src="./assets/Sekvens3.mp4#t=0.01"
          webkit-playsinline
          playsinline
          class="video07"
          id="video"
        ></video>
        <div class="restart video08">
          <button id="restart">
            Klicka för att börja<br />
            om från början.
          </button>
          <a href="https://vimeo.com/764476787"> Se videon </a>
          <a href="https://soundcloud.com/oskar-hannu/sets/skynda-hem-till-shabbaten-2022"
            >Lyssna på låten</a
          >
        </div>
      </section>
    </section>
  </body>

  <script>
    let parallax = document.querySelector("#parallax");
    let videos = document.querySelectorAll("#video");
    let buske = document.querySelectorAll("#buske");

    parallax.addEventListener("scroll", function (e) {
      let elem = e.currentTarget;
      if (elem.scrollHeight - elem.scrollTop <= window.innerHeight)
        e.currentTarget.style.overflow = "hidden";
    });

    window.addEventListener("scroll", function (e) {
      if (parallax.getBoundingClientRect().top <= -window.innerHeight)
        parallax.style.display = "none";
    });

    videos.forEach(function (vidBtn) {
      vidBtn.addEventListener("click", playVideo);
    });

    buske.forEach(function (bush) {
      bush.addEventListener("click", function (el) {
        el.srcElement.style.display = "none";
      });
    });

    function playVideo(event) {
      event.srcElement.play();
      event.srcElement.addEventListener("ended", function (el) {
        el.srcElement.style.display = "none";
      });
    }

    document.querySelector("#restart").addEventListener("click", function () {
      location.reload();
    });
  </script>
</html>
